<% action_url = nation.persisted? ? nation_url(nation) : nations_url %>
<% method = nation.persisted? ? "patch" : "post" %>
<% submit_text = nation.persisted? ? "Save Changes" : "Create Nation" %>

<%= form_for nation, url: action_url, method: method, html: { multipart: true } do |form| %>
  <div class="row">
    <div class="col-md-4 col-md-offset-4">
      <div class="form-group">
        <%= form.label :name, class: "lead" %>
        <%= form.text_field :name, class: "form-control", value: nation.name %>
      </div>

      <div class="form-group">
        <%= form.label :description, class: "lead" %>
        <%= form.text_area :description, class: "form-control", rows: 3, value: nation.description %>
      </div>

      <div class="form-group">
        <%= form.label :flag, class: "lead" %>
        <%= form.file_field :flag, class: "form-control-file" %>
        <br>
        <%= image_tag(nation.flag.url(:medium), height: "150", class: "img-rounded") if nation.persisted? %>
      </div>
    </div>
  </div>

  <div class="text-center">
    <%= form.submit submit_text, class: "btn btn-primary" %>
  </div>
<% end %>
